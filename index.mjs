// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ndarraylike2object@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-indices-complement@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed2@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-iteration-order@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@v0.1.1-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import{assign as p}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-minmax-view-buffer-index@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assign@v0.1.1-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ndarraylike2ndarray@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-empty-like@v0.3.0-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-loop-interchange-order@v0.2.1-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-tiling-block-size@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-row-major-string@esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-vind2bind@v0.2.2-esm/index.mjs";function c(r){return r}function j(r){return{dtype:r.dtype,data:r.data,shape:[1],strides:[0],offset:r.offset,order:r.order}}function b(r,s){var o,t,e,f;return t=1===s?0:1,o=[0,0],e=[r],f=[s],function(r){return p(r.shape,r.strides,r.offset,o),{dtype:r.dtype,data:r.data,shape:e,strides:f,offset:o[t],order:r.order}}}function x(r,s){var o={dtype:s.dtype,data:s.data,shape:[r],strides:[1],offset:s.offset,order:s.order};return function(r){return d([r,s]),o}}function w(r){return function(s){return d([r,s]),s}}function k(s){var o,t,e,n,u,i,d,l,m,g;if(0===(t=(i=s.shape).length))return{input:j,output:c};if(1===t)return{input:c,output:c};for(n=1,d=0,l=0;l<t;l++)1===i[l]&&(d+=1),n*=i[l];if(d===t-1){for(l=0;l<t&&1===i[l];l++);return{input:(m=s,g=l,function(r){return{dtype:r.dtype,data:r.data,shape:[m.shape[g]],strides:[m.strides[g]],offset:r.offset,order:r.order}}),output:c}}return 0!==(u=f(s.strides))&&n===(e=p(i,s.strides,s.offset,[0,0]))[1]-e[0]+1?{input:b(n,u),output:c}:{input:x(n,o=r(a(h(s)))),output:w(o)}}function E(r,s){var o;for(o=0;o<r.length;o++)r[o]+=s[o];return r}function z(r,s){var o;for(o=0;o<s.length;o++)r[o].offset=s[o];return r}function A(r){var s,o=[];for(s=0;s<r.length;s++)o.push(r[s].offset);return o}var I="throw";var L=[function(r,s,o,t,e){s[0]=o.input(s[0]),s[1]=t.input(s[1]),r(s,e),t.output(s[1])},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m;for(l=s[1],d=t[0],p=[e[0],f[0]],m=2;m<s.length;m++)p.push(s[m].strides[0]);for(h=A(s),a=0;a<d;a++)z(o,h),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(l),E(h,p)},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j;if(c=s[1],v(c.order))for(h=t[1],a=t[0],p=[e[1],f[1]],d=[e[0]-h*e[1],f[0]-h*f[1]],j=2;j<s.length;j++)l=s[j].strides,p.push(l[1]),d.push(l[0]-h*l[1]);else for(h=t[0],a=t[1],p=[e[0],f[0]],d=[e[1]-h*e[0],f[1]-h*f[0]],j=2;j<s.length;j++)l=s[j].strides,p.push(l[0]),d.push(l[1]-h*l[0]);for(m=A(s),y=0;y<a;y++){for(g=0;g<h;g++)z(o,m),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(c),E(m,p);E(m,d)}},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j,b,x,w;if(x=s[1],v(x.order))for(a=t[2],l=t[1],m=t[0],p=[e[2],f[2]],d=[e[1]-a*e[2],f[1]-a*f[2]],h=[e[0]-l*e[1],f[0]-l*f[1]],w=2;w<s.length;w++)g=s[w].strides,p.push(g[2]),d.push(g[1]-a*g[2]),h.push(g[0]-l*g[1]);else for(a=t[0],l=t[1],m=t[2],p=[e[0],f[0]],d=[e[1]-a*e[0],f[1]-a*f[0]],h=[e[2]-l*e[1],f[2]-l*f[1]],w=2;w<s.length;w++)g=s[w].strides,p.push(g[0]),d.push(g[1]-a*g[0]),h.push(g[2]-l*g[1]);for(y=A(s),b=0;b<m;b++){for(j=0;j<l;j++){for(c=0;c<a;c++)z(o,y),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(x),E(y,p);E(y,d)}E(y,h)}},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j,b,x,w,k,I,L;if(I=s[1],v(I.order))for(l=t[3],m=t[2],g=t[1],y=t[0],p=[e[3],f[3]],d=[e[2]-l*e[3],f[2]-l*f[3]],h=[e[1]-m*e[2],f[1]-m*f[2]],a=[e[0]-g*e[1],f[0]-g*f[1]],L=2;L<s.length;L++)c=s[L].strides,p.push(c[3]),d.push(c[2]-l*c[3]),h.push(c[1]-m*c[2]),a.push(c[0]-g*c[1]);else for(l=t[0],m=t[1],g=t[2],y=t[3],p=[e[0],f[0]],d=[e[1]-l*e[0],f[1]-l*f[0]],h=[e[2]-m*e[1],f[2]-m*f[1]],a=[e[3]-g*e[2],f[3]-g*f[2]],L=2;L<s.length;L++)c=s[L].strides,p.push(c[0]),d.push(c[1]-l*c[0]),h.push(c[2]-m*c[1]),a.push(c[3]-g*c[2]);for(j=A(s),k=0;k<y;k++){for(w=0;w<g;w++){for(x=0;x<m;x++){for(b=0;b<l;b++)z(o,j),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(I),E(j,p);E(j,d)}E(j,h)}E(j,a)}},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j,b,x,w,k,I,L,N,V,q;if(V=s[1],v(V.order))for(m=t[4],g=t[3],y=t[2],c=t[1],j=t[0],p=[e[4],f[4]],d=[e[3]-m*e[4],f[3]-m*f[4]],h=[e[2]-g*e[3],f[2]-g*f[3]],a=[e[1]-y*e[2],f[1]-y*f[2]],l=[e[0]-c*e[1],f[0]-c*f[1]],q=2;q<s.length;q++)b=s[q].strides,p.push(b[4]),d.push(b[3]-m*b[4]),h.push(b[2]-g*b[3]),a.push(b[1]-y*b[2]),l.push(b[0]-c*b[1]);else for(m=t[0],g=t[1],y=t[2],c=t[3],j=t[4],p=[e[0],f[0]],d=[e[1]-m*e[0],f[1]-m*f[0]],h=[e[2]-g*e[1],f[2]-g*f[1]],a=[e[3]-y*e[2],f[3]-y*f[2]],l=[e[4]-c*e[3],f[4]-c*f[3]],q=2;q<s.length;q++)b=s[q].strides,p.push(b[0]),d.push(b[1]-m*b[0]),h.push(b[2]-g*b[1]),a.push(b[3]-y*b[2]),l.push(b[4]-c*b[3]);for(x=A(s),N=0;N<j;N++){for(L=0;L<c;L++){for(I=0;I<y;I++){for(k=0;k<g;k++){for(w=0;w<m;w++)z(o,x),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(V),E(x,p);E(x,d)}E(x,h)}E(x,a)}E(x,l)}},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B;if(T=s[1],v(T.order))for(g=t[5],y=t[4],c=t[3],j=t[2],b=t[1],x=t[0],p=[e[5],f[5]],d=[e[4]-g*e[5],f[4]-g*f[5]],h=[e[3]-y*e[4],f[3]-y*f[4]],a=[e[2]-c*e[3],f[2]-c*f[3]],l=[e[1]-j*e[2],f[1]-j*f[2]],m=[e[0]-b*e[1],f[0]-b*f[1]],B=2;B<s.length;B++)w=s[B].strides,p.push(w[5]),d.push(w[4]-g*w[5]),h.push(w[3]-y*w[4]),a.push(w[2]-c*w[3]),l.push(w[1]-j*w[2]),m.push(w[0]-b*w[1]);else for(g=t[0],y=t[1],c=t[2],j=t[3],b=t[4],x=t[5],p=[e[0],f[0]],d=[e[1]-g*e[0],f[1]-g*f[0]],h=[e[2]-y*e[1],f[2]-y*f[1]],a=[e[3]-c*e[2],f[3]-c*f[2]],l=[e[4]-j*e[3],f[4]-j*f[3]],m=[e[5]-b*e[4],f[5]-b*f[4]],B=2;B<s.length;B++)w=s[B].strides,p.push(w[0]),d.push(w[1]-g*w[0]),h.push(w[2]-y*w[1]),a.push(w[3]-c*w[2]),l.push(w[4]-j*w[3]),m.push(w[5]-b*w[4]);for(k=A(s),R=0;R<x;R++){for(q=0;q<b;q++){for(V=0;V<j;V++){for(N=0;N<c;N++){for(L=0;L<y;L++){for(I=0;I<g;I++)z(o,k),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(T),E(k,p);E(k,d)}E(k,h)}E(k,a)}E(k,l)}E(k,m)}},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F;if(D=s[1],v(D.order))for(y=t[6],c=t[5],j=t[4],b=t[3],x=t[2],w=t[1],k=t[0],p=[e[6],f[6]],d=[e[5]-y*e[6],f[5]-y*f[6]],h=[e[4]-c*e[5],f[4]-c*f[5]],a=[e[3]-j*e[4],f[3]-j*f[4]],l=[e[2]-b*e[3],f[2]-b*f[3]],m=[e[1]-x*e[2],f[1]-x*f[2]],g=[e[0]-w*e[1],f[0]-w*f[1]],F=2;F<s.length;F++)I=s[F].strides,p.push(I[6]),d.push(I[5]-y*I[6]),h.push(I[4]-c*I[5]),a.push(I[3]-j*I[4]),l.push(I[2]-b*I[3]),m.push(I[1]-x*I[2]),g.push(I[0]-w*I[1]);else for(y=t[0],c=t[1],j=t[2],b=t[3],x=t[4],w=t[5],k=t[6],p=[e[0],f[0]],d=[e[1]-y*e[0],f[1]-y*f[0]],h=[e[2]-c*e[1],f[2]-c*f[1]],a=[e[3]-j*e[2],f[3]-j*f[2]],l=[e[4]-b*e[3],f[4]-b*f[3]],m=[e[5]-x*e[4],f[5]-x*f[4]],g=[e[6]-w*e[5],f[6]-w*f[5]],F=2;F<s.length;F++)I=s[F].strides,p.push(I[0]),d.push(I[1]-y*I[0]),h.push(I[2]-c*I[1]),a.push(I[3]-j*I[2]),l.push(I[4]-b*I[3]),m.push(I[5]-x*I[4]),g.push(I[6]-w*I[5]);for(L=A(s),C=0;C<k;C++){for(B=0;B<w;B++){for(T=0;T<x;T++){for(R=0;R<b;R++){for(q=0;q<j;q++){for(V=0;V<c;V++){for(N=0;N<y;N++)z(o,L),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(D),E(L,p);E(L,d)}E(L,h)}E(L,a)}E(L,l)}E(L,m)}E(L,g)}},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J;if(H=s[1],v(H.order))for(c=t[7],j=t[6],b=t[5],x=t[4],w=t[3],k=t[2],I=t[1],L=t[0],p=[e[7],f[7]],d=[e[6]-c*e[7],f[6]-c*f[7]],h=[e[5]-j*e[6],f[5]-j*f[6]],a=[e[4]-b*e[5],f[4]-b*f[5]],l=[e[3]-x*e[4],f[3]-x*f[4]],m=[e[2]-w*e[3],f[2]-w*f[3]],g=[e[1]-k*e[2],f[1]-k*f[2]],y=[e[0]-I*e[1],f[0]-I*f[1]],J=2;J<s.length;J++)N=s[J].strides,p.push(N[7]),d.push(N[6]-c*N[7]),h.push(N[5]-j*N[6]),a.push(N[4]-b*N[5]),l.push(N[3]-x*N[4]),m.push(N[2]-w*N[3]),g.push(N[1]-k*N[2]),y.push(N[0]-I*N[1]);else for(c=t[0],j=t[1],b=t[2],x=t[3],w=t[4],k=t[5],I=t[6],L=t[7],p=[e[0],f[0]],d=[e[1]-c*e[0],f[1]-c*f[0]],h=[e[2]-j*e[1],f[2]-j*f[1]],a=[e[3]-b*e[2],f[3]-b*f[2]],l=[e[4]-x*e[3],f[4]-x*f[3]],m=[e[5]-w*e[4],f[5]-w*f[4]],g=[e[6]-k*e[5],f[6]-k*f[5]],y=[e[7]-I*e[6],f[7]-I*f[6]],J=2;J<s.length;J++)N=s[J].strides,p.push(N[0]),d.push(N[1]-c*N[0]),h.push(N[2]-j*N[1]),a.push(N[3]-b*N[2]),l.push(N[4]-x*N[3]),m.push(N[5]-w*N[4]),g.push(N[6]-k*N[5]),y.push(N[7]-I*N[6]);for(V=A(s),G=0;G<L;G++){for(F=0;F<I;F++){for(D=0;D<k;D++){for(C=0;C<w;C++){for(B=0;B<x;B++){for(T=0;T<b;T++){for(R=0;R<j;R++){for(q=0;q<c;q++)z(o,V),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(H),E(V,p);E(V,d)}E(V,h)}E(V,a)}E(V,l)}E(V,m)}E(V,g)}E(V,y)}},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O;if(M=s[1],v(M.order))for(j=t[8],b=t[7],x=t[6],w=t[5],k=t[4],I=t[3],L=t[2],N=t[1],V=t[0],p=[e[8],f[8]],d=[e[7]-j*e[8],f[7]-j*f[8]],h=[e[6]-b*e[7],f[6]-b*f[7]],a=[e[5]-x*e[6],f[5]-x*f[6]],l=[e[4]-w*e[5],f[4]-w*f[5]],m=[e[3]-k*e[4],f[3]-k*f[4]],g=[e[2]-I*e[3],f[2]-I*f[3]],y=[e[1]-L*e[2],f[1]-L*f[2]],c=[e[0]-N*e[1],f[0]-N*f[1]],O=2;O<s.length;O++)q=s[O].strides,p.push(q[8]),d.push(q[7]-j*q[8]),h.push(q[6]-b*q[7]),a.push(q[5]-x*q[6]),l.push(q[4]-w*q[5]),m.push(q[3]-k*q[4]),g.push(q[2]-I*q[3]),y.push(q[1]-L*q[2]),c.push(q[0]-N*q[1]);else for(j=t[0],b=t[1],x=t[2],w=t[3],k=t[4],I=t[5],L=t[6],N=t[7],V=t[8],p=[e[0],f[0]],d=[e[1]-j*e[0],f[1]-j*f[0]],h=[e[2]-b*e[1],f[2]-b*f[1]],a=[e[3]-x*e[2],f[3]-x*f[2]],l=[e[4]-w*e[3],f[4]-w*f[3]],m=[e[5]-k*e[4],f[5]-k*f[4]],g=[e[6]-I*e[5],f[6]-I*f[5]],y=[e[7]-L*e[6],f[7]-L*f[6]],c=[e[8]-N*e[7],f[8]-N*f[7]],O=2;O<s.length;O++)q=s[O].strides,p.push(q[0]),d.push(q[1]-j*q[0]),h.push(q[2]-b*q[1]),a.push(q[3]-x*q[2]),l.push(q[4]-w*q[3]),m.push(q[5]-k*q[4]),g.push(q[6]-I*q[5]),y.push(q[7]-L*q[6]),c.push(q[8]-N*q[7]);for(R=A(s),K=0;K<V;K++){for(J=0;J<N;J++){for(H=0;H<L;H++){for(G=0;G<I;G++){for(F=0;F<k;F++){for(D=0;D<w;D++){for(C=0;C<x;C++){for(B=0;B<b;B++){for(T=0;T<j;T++)z(o,R),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(M),E(R,p);E(R,d)}E(R,h)}E(R,a)}E(R,l)}E(R,m)}E(R,g)}E(R,y)}E(R,c)}},function(r,s,o,t,e,f,n,u,i){var p,d,h,a,l,m,g,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O,P,Q,S;if(Q=s[1],v(Q.order))for(b=t[9],x=t[8],w=t[7],k=t[6],I=t[5],L=t[4],N=t[3],V=t[2],q=t[1],R=t[0],p=[e[9],f[9]],d=[e[8]-b*e[9],f[8]-b*f[9]],h=[e[7]-x*e[8],f[7]-x*f[8]],a=[e[6]-w*e[7],f[6]-w*f[7]],l=[e[5]-k*e[6],f[5]-k*f[6]],m=[e[4]-I*e[5],f[4]-I*f[5]],g=[e[3]-L*e[4],f[3]-L*f[4]],y=[e[2]-N*e[3],f[2]-N*f[3]],c=[e[1]-V*e[2],f[1]-V*f[2]],j=[e[0]-q*e[1],f[0]-q*f[1]],S=2;S<s.length;S++)T=s[S].strides,p.push(T[9]),d.push(T[8]-b*T[9]),h.push(T[7]-x*T[8]),a.push(T[6]-w*T[7]),l.push(T[5]-k*T[6]),m.push(T[4]-I*T[5]),g.push(T[3]-L*T[4]),y.push(T[2]-N*T[3]),c.push(T[1]-V*T[2]),j.push(T[0]-q*T[1]);else for(b=t[0],x=t[1],w=t[2],k=t[3],I=t[4],L=t[5],N=t[6],V=t[7],q=t[8],R=t[9],p=[e[0],f[0]],d=[e[1]-b*e[0],f[1]-b*f[0]],h=[e[2]-x*e[1],f[2]-x*f[1]],a=[e[3]-w*e[2],f[3]-w*f[2]],l=[e[4]-k*e[3],f[4]-k*f[3]],m=[e[5]-I*e[4],f[5]-I*f[4]],g=[e[6]-L*e[5],f[6]-L*f[5]],y=[e[7]-N*e[6],f[7]-N*f[6]],c=[e[8]-V*e[7],f[8]-V*f[7]],j=[e[9]-q*e[8],f[9]-q*f[8]],S=2;S<s.length;S++)T=s[S].strides,p.push(T[0]),d.push(T[1]-b*T[0]),h.push(T[2]-x*T[1]),a.push(T[3]-w*T[2]),l.push(T[4]-k*T[3]),m.push(T[5]-I*T[4]),g.push(T[6]-L*T[5]),y.push(T[7]-N*T[6]),c.push(T[8]-V*T[7]),c.push(T[8]-q*T[8]);for(B=A(s),P=0;P<R;P++){for(O=0;O<q;O++){for(M=0;M<V;M++){for(K=0;K<N;K++){for(J=0;J<L;J++){for(H=0;H<I;H++){for(G=0;G<k;G++){for(F=0;F<w;F++){for(D=0;D<x;D++){for(C=0;C<b;C++)z(o,B),o[0]=n.input(o[0]),o[1]=u.input(o[1]),r(o,i),u.output(Q),E(B,p);E(B,d)}E(B,h)}E(B,a)}E(B,l)}E(B,m)}E(B,g)}E(B,y)}E(B,c)}E(B,j)}}],N=[function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B;for(V=s.length,q=s[0],R=s[1],y=(T=l(t,f,n)).sh,b=[T.sx,T.sy],B=2;B<V;B++)b.push(e(s[B].strides,T.idx));for(d=m(q.dtype,R.dtype),x=A(s),h=[],B=0;B<V;B++)h.push(b[B][0]);for(v=g(V),a=g(V),w=g(V),N=y[1];N>0;){for(N<d?(j=N,N=0):(j=d,N-=d),B=0;B<V;B++)v[B]=x[B]+N*b[B][1];for(L=y[0];L>0;){for(L<d?(c=L,L=0):(c=d,L-=d),B=0;B<V;B++)w[B]=v[B]+L*b[B][0],a[B]=b[B][1]-c*b[B][0];for(I=0;I<j;I++){for(k=0;k<c;k++)z(o,w),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(R),E(w,h);E(w,a)}}}},function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H;for(C=s.length,D=s[0],F=s[1],j=(G=l(t,f,n)).sh,k=[G.sx,G.sy],H=2;H<C;H++)k.push(e(s[H].strides,G.idx));for(d=m(D.dtype,F.dtype),I=A(s),h=[],H=0;H<C;H++)h.push(k[H][0]);for(y=g(C),c=g(C),a=g(C),v=g(C),L=g(C),B=j[2];B>0;){for(B<d?(w=B,B=0):(w=d,B-=d),H=0;H<C;H++)c[H]=I[H]+B*k[H][2];for(T=j[1];T>0;){for(T<d?(x=T,T=0):(x=d,T-=d),H=0;H<C;H++)y[H]=c[H]+T*k[H][1],v[H]=k[H][2]-x*k[H][1];for(R=j[0];R>0;){for(R<d?(b=R,R=0):(b=d,R-=d),H=0;H<C;H++)L[H]=y[H]+R*k[H][0],a[H]=k[H][1]-b*k[H][0];for(q=0;q<w;q++){for(V=0;V<x;V++){for(N=0;N<b;N++)z(o,L),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(F),E(L,h);E(L,a)}E(L,v)}}}}},function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O,P;for(J=s.length,K=s[0],M=s[1],x=(O=l(t,f,n)).sh,N=[O.sx,O.sy],P=2;P<J;P++)N.push(e(s[P].strides,O.idx));for(d=m(K.dtype,M.dtype),V=A(s),h=[],P=0;P<J;P++)h.push(N[P][0]);for(c=g(J),j=g(J),b=g(J),a=g(J),v=g(J),y=g(J),q=g(J),H=x[3];H>0;){for(H<d?(L=H,H=0):(L=d,H-=d),P=0;P<J;P++)b[P]=V[P]+H*N[P][3];for(G=x[2];G>0;){for(G<d?(I=G,G=0):(I=d,G-=d),P=0;P<J;P++)j[P]=b[P]+G*N[P][2],y[P]=N[P][3]-I*N[P][2];for(F=x[1];F>0;){for(F<d?(k=F,F=0):(k=d,F-=d),P=0;P<J;P++)c[P]=j[P]+F*N[P][1],v[P]=N[P][2]-k*N[P][1];for(D=x[0];D>0;){for(D<d?(w=D,D=0):(w=d,D-=d),P=0;P<J;P++)q[P]=c[P]+D*N[P][0],a[P]=N[P][1]-w*N[P][0];for(C=0;C<L;C++){for(B=0;B<I;B++){for(T=0;T<k;T++){for(R=0;R<w;R++)z(o,q),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(M),E(q,h);E(q,a)}E(q,v)}E(q,y)}}}}}},function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O,P,Q,S,U,W,X;for(Q=s.length,S=s[0],U=s[1],k=(W=l(t,f,n)).sh,R=[W.sx,W.sy],X=2;X<Q;X++)R.push(e(s[X].strides,W.idx));for(d=m(S.dtype,U.dtype),T=A(s),h=[],X=0;X<Q;X++)h.push(R[X][0]);for(j=g(Q),b=g(Q),x=g(Q),w=g(Q),a=g(Q),v=g(Q),y=g(Q),c=g(Q),B=g(Q),P=k[4];P>0;){for(P<d?(q=P,P=0):(q=d,P-=d),X=0;X<Q;X++)w[X]=T[X]+P*R[X][4];for(O=k[3];O>0;){for(O<d?(V=O,O=0):(V=d,O-=d),X=0;X<Q;X++)c[X]=R[X][4]-V*R[X][3],x[X]=w[X]+O*R[X][3];for(M=k[2];M>0;){for(M<d?(N=M,M=0):(N=d,M-=d),X=0;X<Q;X++)y[X]=R[X][3]-N*R[X][2],b[X]=x[X]+M*R[X][2];for(K=k[1];K>0;){for(K<d?(L=K,K=0):(L=d,K-=d),X=0;X<Q;X++)v[X]=R[X][2]-L*R[X][1],j[X]=b[X]+K*R[X][1];for(J=k[0];J>0;){for(J<d?(I=J,J=0):(I=d,J-=d),X=0;X<Q;X++)B[X]=j[X]+J*R[X][0],a[X]=R[X][1]-I*R[X][0];for(H=0;H<q;H++){for(G=0;G<V;G++){for(F=0;F<N;F++){for(D=0;D<L;D++){for(C=0;C<I;C++)z(o,B),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(U),E(B,h);E(B,a)}E(B,v)}E(B,y)}E(B,c)}}}}}}},function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr;for(Y=s.length,Z=s[0],$=s[1],L=(_=l(t,f,n)).sh,C=[_.sx,_.sy],rr=2;rr<Y;rr++)C.push(e(s[rr].strides,_.idx));for(d=m(Z.dtype,$.dtype),D=A(s),h=[],rr=0;rr<Y;rr++)h.push(C[rr][0]);for(b=g(Y),x=g(Y),w=g(Y),k=g(Y),I=g(Y),a=g(Y),v=g(Y),y=g(Y),c=g(Y),j=g(Y),F=g(Y),X=L[5];X>0;){for(X<d?(B=X,X=0):(B=d,X-=d),rr=0;rr<Y;rr++)I[rr]=D[rr]+X*C[rr][5];for(W=L[4];W>0;){for(W<d?(T=W,W=0):(T=d,W-=d),rr=0;rr<Y;rr++)j=C[rr][5]-T*C[rr][4],k[rr]=I[rr]+W*C[rr][4];for(U=L[3];U>0;){for(U<d?(R=U,U=0):(R=d,U-=d),rr=0;rr<Y;rr++)c[rr]=C[rr][4]-R*C[rr][3],w[rr]=k[rr]+U*C[rr][3];for(S=L[2];S>0;){for(S<d?(q=S,S=0):(q=d,S-=d),rr=0;rr<Y;rr++)y[rr]=C[rr][3]-q*C[rr][2],x[rr]=w[rr]+S*C[rr][2];for(Q=L[1];Q>0;){for(Q<d?(V=Q,Q=0):(V=d,Q-=d),rr=0;rr<Y;rr++)v[rr]=C[rr][2]-V*C[rr][1],b[rr]=x[rr]+Q*C[rr][1];for(P=L[0];P>0;){for(P<d?(N=P,P=0):(N=d,P-=d),rr=0;rr<Y;rr++)F[rr]=b[rr]+P*C[rr][0],a[rr]=C[rr][1]-N*C[rr][0];for(O=0;O<B;O++){for(M=0;M<T;M++){for(K=0;K<R;K++){for(J=0;J<q;J++){for(H=0;H<V;H++){for(G=0;G<N;G++)z(o,F),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output($),E(F,h);E(F,a)}E(F,v)}E(F,y)}E(F,c)}E(F,j)}}}}}}}},function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr,sr,or,tr,er,fr;for(sr=s.length,or=s[0],tr=s[1],V=(er=l(t,f,n)).sh,G=[er.sx,er.sy],fr=2;fr<sr;fr++)G.push(e(s[fr].strides,er.idx));for(d=m(or.dtype,tr.dtype),H=A(s),h=[],fr=0;fr<sr;fr++)h.push(G[fr][0]);for(x=g(sr),w=g(sr),k=g(sr),I=g(sr),L=g(sr),N=g(sr),a=g(sr),v=g(sr),y=g(sr),c=g(sr),j=g(sr),b=g(sr),J=g(sr),rr=V[6];rr>0;){for(rr<d?(F=rr,rr=0):(F=d,rr-=d),fr=0;fr<sr;fr++)N[fr]=H[fr]+rr*G[fr][6];for(_=V[5];_>0;){for(_<d?(D=_,_=0):(D=d,_-=d),fr=0;fr<sr;fr++)b=G[fr][6]-D*G[fr][5],L[fr]=N[fr]+_*G[fr][5];for($=V[4];$>0;){for($<d?(C=$,$=0):(C=d,$-=d),fr=0;fr<sr;fr++)j=G[fr][5]-C*G[fr][4],I[fr]=L[fr]+$*G[fr][4];for(Z=V[3];Z>0;){for(Z<d?(B=Z,Z=0):(B=d,Z-=d),fr=0;fr<sr;fr++)c[fr]=G[fr][4]-B*G[fr][3],k[fr]=I[fr]+Z*G[fr][3];for(Y=V[2];Y>0;){for(Y<d?(T=Y,Y=0):(T=d,Y-=d),fr=0;fr<sr;fr++)y[fr]=G[fr][3]-T*G[fr][2],w[fr]=k[fr]+Y*G[fr][2];for(X=V[1];X>0;){for(X<d?(R=X,X=0):(R=d,X-=d),fr=0;fr<sr;fr++)v[fr]=G[fr][2]-R*G[fr][1],x[fr]=w[fr]+X*G[fr][1];for(W=V[0];W>0;){for(W<d?(q=W,W=0):(q=d,W-=d),fr=0;fr<sr;fr++)J[fr]=x[fr]+W*G[fr][0],a[fr]=G[fr][1]-q*G[fr][0];for(U=0;U<F;U++){for(S=0;S<D;S++){for(Q=0;Q<C;Q++){for(P=0;P<B;P++){for(O=0;O<T;O++){for(M=0;M<R;M++){for(K=0;K<q;K++)z(o,J),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(tr),E(J,h);E(J,a)}E(J,v)}E(J,y)}E(J,c)}E(J,j)}E(J,b)}}}}}}}}},function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr,sr,or,tr,er,fr,nr,ur,ir,pr,dr;for(nr=s.length,ur=s[0],ir=s[1],R=(pr=l(t,f,n)).sh,K=[pr.sx,pr.sy],dr=2;dr<nr;dr++)K.push(e(s[dr].strides,pr.idx));for(d=m(ur.dtype,ir.dtype),M=A(s),h=[],dr=0;dr<nr;dr++)h.push(K[dr][0]);for(w=g(nr),k=g(nr),I=g(nr),L=g(nr),N=g(nr),V=g(nr),q=g(nr),a=g(nr),v=g(nr),y=g(nr),c=g(nr),j=g(nr),b=g(nr),x=g(nr),O=g(nr),fr=R[7];fr>0;){for(fr<d?(J=fr,fr=0):(J=d,fr-=d),dr=0;dr<nr;dr++)q[dr]=M[dr]+fr*K[dr][7];for(er=R[6];er>0;){for(er<d?(H=er,er=0):(H=d,er-=d),dr=0;dr<nr;dr++)x=K[dr][7]-H*K[dr][6],V[dr]=q[dr]+er*K[dr][6];for(tr=R[5];tr>0;){for(tr<d?(G=tr,tr=0):(G=d,tr-=d),dr=0;dr<nr;dr++)b=K[dr][6]-G*K[dr][5],N[dr]=V[dr]+tr*K[dr][5];for(or=R[4];or>0;){for(or<d?(F=or,or=0):(F=d,or-=d),dr=0;dr<nr;dr++)j=K[dr][5]-F*K[dr][4],L[dr]=N[dr]+or*K[dr][4];for(sr=R[3];sr>0;){for(sr<d?(D=sr,sr=0):(D=d,sr-=d),dr=0;dr<nr;dr++)c[dr]=K[dr][4]-D*K[dr][3],I[dr]=L[dr]+sr*K[dr][3];for(rr=R[2];rr>0;){for(rr<d?(C=rr,rr=0):(C=d,rr-=d),dr=0;dr<nr;dr++)y[dr]=K[dr][3]-C*K[dr][2],k[dr]=I[dr]+rr*K[dr][2];for(_=R[1];_>0;){for(_<d?(B=_,_=0):(B=d,_-=d),dr=0;dr<nr;dr++)v[dr]=K[dr][2]-B*K[dr][1],w[dr]=k[dr]+_*K[dr][1];for($=R[0];$>0;){for($<d?(T=$,$=0):(T=d,$-=d),dr=0;dr<nr;dr++)O[dr]=w[dr]+$*K[dr][0],a[dr]=K[dr][1]-T*K[dr][0];for(Z=0;Z<J;Z++){for(Y=0;Y<H;Y++){for(X=0;X<G;X++){for(W=0;W<F;W++){for(U=0;U<D;U++){for(S=0;S<C;S++){for(Q=0;Q<B;Q++){for(P=0;P<T;P++)z(o,O),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(ir),E(O,h);E(O,a)}E(O,v)}E(O,y)}E(O,c)}E(O,j)}E(O,b)}E(O,x)}}}}}}}}}},function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr,sr,or,tr,er,fr,nr,ur,ir,pr,dr,hr,ar,lr,mr,gr;for(hr=s.length,ar=s[0],lr=s[1],B=(mr=l(t,f,n)).sh,P=[mr.sx,mr.sy],gr=2;gr<hr;gr++)P.push(e(s[gr].strides,mr.idx));for(d=m(ar.dtype,lr.dtype),Q=A(s),h=[],gr=0;gr<hr;gr++)h.push(P[gr][0]);for(k=g(hr),I=g(hr),L=g(hr),N=g(hr),V=g(hr),q=g(hr),R=g(hr),T=g(hr),a=g(hr),v=g(hr),y=g(hr),c=g(hr),j=g(hr),b=g(hr),x=g(hr),w=g(hr),S=g(hr),dr=B[8];dr>0;){for(dr<d?(O=dr,dr=0):(O=d,dr-=d),gr=0;gr<hr;gr++)T[gr]=Q[gr]+dr*P[gr][8];for(pr=B[7];pr>0;){for(pr<d?(M=pr,pr=0):(M=d,pr-=d),gr=0;gr<hr;gr++)w=P[gr][8]-M*P[gr][7],R[gr]=T[gr]+pr*P[gr][7];for(ir=B[6];ir>0;){for(ir<d?(K=ir,ir=0):(K=d,ir-=d),gr=0;gr<hr;gr++)x=P[gr][7]-K*P[gr][6],q[gr]=R[gr]+ir*P[gr][6];for(ur=B[5];ur>0;){for(ur<d?(J=ur,ur=0):(J=d,ur-=d),gr=0;gr<hr;gr++)b=P[gr][6]-J*P[gr][5],V[gr]=q[gr]+ur*P[gr][5];for(nr=B[4];nr>0;){for(nr<d?(H=nr,nr=0):(H=d,nr-=d),gr=0;gr<hr;gr++)j=P[gr][5]-H*P[gr][4],N[gr]=V[gr]+nr*P[gr][4];for(fr=B[3];fr>0;){for(fr<d?(G=fr,fr=0):(G=d,fr-=d),gr=0;gr<hr;gr++)c[gr]=P[gr][4]-G*P[gr][3],L[gr]=N[gr]+fr*P[gr][3];for(er=B[2];er>0;){for(er<d?(F=er,er=0):(F=d,er-=d),gr=0;gr<hr;gr++)y[gr]=P[gr][3]-F*P[gr][2],I[gr]=L[gr]+er*P[gr][2];for(tr=B[1];tr>0;){for(tr<d?(D=tr,tr=0):(D=d,tr-=d),gr=0;gr<hr;gr++)v[gr]=P[gr][2]-D*P[gr][1],k[gr]=I[gr]+tr*P[gr][1];for(or=B[0];or>0;){for(or<d?(C=or,or=0):(C=d,or-=d),gr=0;gr<hr;gr++)S[gr]=k[gr]+or*P[gr][0],a[gr]=P[gr][1]-C*P[gr][0];for(sr=0;sr<O;sr++){for(rr=0;rr<M;rr++){for(_=0;_<K;_++){for($=0;$<J;$++){for(Z=0;Z<H;Z++){for(Y=0;Y<G;Y++){for(X=0;X<F;X++){for(W=0;W<D;W++){for(U=0;U<C;U++)z(o,S),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(lr),E(S,h);E(S,a)}E(S,v)}E(S,y)}E(S,c)}E(S,j)}E(S,b)}E(S,x)}E(S,w)}}}}}}}}}}},function(r,s,o,t,f,n,u,i,p){var d,h,a,v,y,c,j,b,x,w,k,I,L,N,V,q,R,T,B,C,D,F,G,H,J,K,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr,sr,or,tr,er,fr,nr,ur,ir,pr,dr,hr,ar,lr,mr,gr,vr,yr,cr,jr,br;for(vr=s.length,yr=s[0],cr=s[1],D=(jr=l(t,f,n)).sh,U=[jr.sx,jr.sy],br=2;br<vr;br++)U.push(e(s[br].strides,jr.idx));for(d=m(yr.dtype,cr.dtype),W=A(s),h=[],br=0;br<vr;br++)h.push(U[br][0]);for(I=g(vr),L=g(vr),N=g(vr),V=g(vr),q=g(vr),R=g(vr),T=g(vr),B=g(vr),C=g(vr),a=g(vr),v=g(vr),y=g(vr),c=g(vr),j=g(vr),b=g(vr),x=g(vr),w=g(vr),k=g(vr),X=g(vr),gr=D[9];gr>0;){for(gr<d?(S=gr,gr=0):(S=d,gr-=d),br=0;br<vr;br++)C[br]=W[br]+gr*U[br][9];for(mr=D[8];mr>0;){for(mr<d?(Q=mr,mr=0):(Q=d,mr-=d),br=0;br<vr;br++)k=U[br][9]-Q*U[br][8],B[br]=C[br]+mr*U[br][8];for(lr=D[7];lr>0;){for(lr<d?(P=lr,lr=0):(P=d,lr-=d),br=0;br<vr;br++)w=U[br][8]-P*U[br][7],T[br]=B[br]+lr*U[br][7];for(ar=D[6];ar>0;){for(ar<d?(O=ar,ar=0):(O=d,ar-=d),br=0;br<vr;br++)x=U[br][7]-O*U[br][6],R[br]=T[br]+ar*U[br][6];for(hr=D[5];hr>0;){for(hr<d?(M=hr,hr=0):(M=d,hr-=d),br=0;br<vr;br++)b=U[br][6]-M*U[br][5],q[br]=R[br]+hr*U[br][5];for(dr=D[4];dr>0;){for(dr<d?(K=dr,dr=0):(K=d,dr-=d),br=0;br<vr;br++)j=U[br][5]-K*U[br][4],V[br]=q[br]+dr*U[br][4];for(pr=D[3];pr>0;){for(pr<d?(J=pr,pr=0):(J=d,pr-=d),br=0;br<vr;br++)c[br]=U[br][4]-J*U[br][3],N[br]=V[br]+pr*U[br][3];for(ir=D[2];ir>0;){for(ir<d?(H=ir,ir=0):(H=d,ir-=d),br=0;br<vr;br++)y[br]=U[br][3]-H*U[br][2],L[br]=N[br]+ir*U[br][2];for(ur=D[1];ur>0;){for(ur<d?(G=ur,ur=0):(G=d,ur-=d),br=0;br<vr;br++)v[br]=U[br][2]-G*U[br][1],I[br]=L[br]+ur*U[br][1];for(nr=D[0];nr>0;){for(nr<d?(F=nr,nr=0):(F=d,nr-=d),br=0;br<vr;br++)X[br]=I[br]+nr*U[br][0],a[br]=U[br][1]-F*U[br][0];for(fr=0;fr<S;fr++){for(er=0;er<Q;er++){for(tr=0;tr<P;tr++){for(or=0;or<O;or++){for(sr=0;sr<M;sr++){for(rr=0;rr<K;rr++){for(_=0;_<J;_++){for($=0;$<H;$++){for(Z=0;Z<G;Z++){for(Y=0;Y<F;Y++)z(o,X),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(cr),E(X,h);E(X,a)}E(X,v)}E(X,y)}E(X,c)}E(X,j)}E(X,b)}E(X,x)}E(X,w)}E(X,k)}}}}}}}}}}}}],V=L.length-1;function q(p,d,h,a){var l,m,v,c,j,b,x,w,E,q,R,T,B,C,D,F,G,H,J,K,M,O,P,Q,S,U,W,X;for(b=arguments.length>3?a:{},O=d.length,x=[],W=0;W<O;W++)x.push(r(d[W]));if(S=x[0],U=x[1],c=(T=S.shape).length,P=h.length,null===(K=s(h,c)))throw new RangeError(i("invalid argument. Third argument contains an out-of-bounds dimension index. Value: [%s].",u(h,",")));if(K.sort(),K.length!==P)throw new Error(i("invalid argument. Third argument must contain a list of unique dimension indices. Value: [%s].",u(h,",")));if(P>c)throw new RangeError(i("invalid argument. Number of specified dimensions cannot exceed the number of dimensions in the input array. Number of dimensions: %d. Value: [%s].",c,u(h,",")));for(Q=c-P,W=2;W<O;W++)if(x[W].shape.length!==Q)throw new Error(i("invalid argument. Array arguments after the first two arrays must have the same number of loop dimensions. Input array shape: [%s]. Number of loop dimensions: %d. Array shape: [%s] (index: %d).",u(T,","),Q,u(x[W].shape,","),W));for(W=0;W<c;W++)if(T[W]!==x[1].shape[W])throw new Error("invalid arguments. Input and output arrays must have the same shape.");for(j=o(T.length,K),q=(w=t(T,S.strides,j))[0],G=w[1],H=e(U.strides,j),R=(w=t(T,S.strides,K))[0],D=w[1],F=e(U.strides,K),E=1,J=0,W=0;W<Q;W++){for(M=q[W],X=2;X<O;X++)if(M!==x[X].shape[W])throw new Error(i("invalid argument. Loop dimensions must be consistent across all provided arrays. Input array shape: [%s]. Loop dimension indices: [%s]. Loop dimensions: [%s]. Array shape: [%s] (index: %d).",u(T,","),u(j,","),u(q,","),u(x[X].shape,","),X));E*=M,1===M&&(J+=1)}if(!(0===E||R.length&&0===n(R))){if(function(r,s){var o,t;for(t=2;t<r.length;t++)o=r[t],s.push({dtype:o.dtype,data:o.data,shape:[],strides:[0],offset:o.offset,order:o.order})}(x,v=[{dtype:S.dtype,data:S.data,shape:R,strides:D,offset:S.offset,order:S.order},{dtype:U.dtype,data:U.data,shape:R,strides:F,offset:U.offset,order:U.order}]),l=k(v[0]),m=k(v[1]),0===Q)return L[Q](p,x,l,m,b);if(1===Q)return L[Q](p,x,v,q,G,H,l,m,b);if(J===Q-1){for(W=0;W<Q&&1===q[W];W++);for(X=0;X<O;X++)x[X].strides=[x[X].strides[W]];return G=[G[W]],H=[H[W]],L[1](p,x,v,[q[W]],G,H,l,m,b)}return B=f(G),C=f(H),0!==B&&0!==C&&B===C&&Q<=V?L[Q](p,x,v,q,G,H,l,m,b):Q<=V?N[Q-2](p,x,v,q,G,H,l,m,b):void function(r,s,o,t,e,f,u,i,p){var d,h,a,l,m,v,c,j;for(l=s.length,v=s[1],d=n(t),h=A(s),a=g(l),c=0;c<d;c++){for(j=0;j<l;j++)m=s[j],a[j]=y(t,m.strides,h[j],m.order,c,I);z(o,a),o[0]=u.input(o[0]),o[1]=i.input(o[1]),r(o,p),i.output(v)}}(p,x,v,q,0,0,l,m,b)}}export{q as default};
//# sourceMappingURL=index.mjs.map
